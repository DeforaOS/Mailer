targets=mailing-lists,search,template
cppflags_force=-I ../../include
cflags_force=-W `pkg-config --cflags libDesktop`
cflags=-Wall -g -O2 -pedantic -fPIC -D_FORTIFY_SOURCE=2 -fstack-protector-all
ldflags_force=`pkg-config --libs openssl` -lssl `pkg-config --libs libDesktop`
ldflags=-Wl,-z,relro -Wl,-z,now
dist=Makefile

[mailing-lists]
type=plugin
sources=mailing-lists.c
ldflags=-L.. -Wl,-rpath,$(LIBDIR) -lMailer
install=$(LIBDIR)/Mailer/plugins

[mailing-lists.c]
depends=../../include/Mailer.h

[search]
type=plugin
sources=search.c
install=$(LIBDIR)/Mailer/plugins

[search.c]
depends=../../include/Mailer.h

[template]
type=plugin
sources=template.c

[template.c]
depends=../../include/Mailer.h
